# 🎯 次期機能実装ロードマップ

## 📋 概要

japanese-stock-data-appの改善機能統合版に基づく、次期機能実装計画です。
ユーザーからの詳細な分析と提案を反映し、優先順位を付けて実装していきます。

## 🚀 Phase 1: 高優先機能（即座に実装可能）

### 1. 📈 ポートフォリオ管理とシミュレーション
**実装予定**: 2週間以内
- **モジュール**: `src/portfolio/portfolio_manager.py`
- **機能**:
  - 仮想ポートフォリオ作成・管理
  - リターン、ボラティリティ、シャープレシオ計算
  - バックテスト機能
  - ポートフォリオ価値推移の可視化

### 2. 🔔 カスタムアラート機能
**実装予定**: 1週間以内
- **モジュール**: `src/alerts/alert_manager.py`
- **機能**:
  - 価格閾値アラート
  - テクニカル指標アラート（RSI、MACD等）
  - メール・アプリ内通知
  - ユーザー設定保存

### 3. 📊 ファンダメンタル分析対象拡大
**実装予定**: 3日以内
- **ファイル**: `company_data.json` 拡張
- **機能**:
  - 中小企業・新興セクター追加
  - ユーザーによるカスタム銘柄追加機能
  - 自動財務データ取得の強化

## 🔮 Phase 2: 中優先機能（1-2ヶ月以内）

### 4. 🤖 機械学習による株価予測
**実装予定**: 1ヶ月以内
- **モジュール**: `src/ml/stock_predictor.py`
- **機能**:
  - LSTM/ARIMAモデル実装
  - 予測結果の信頼区間表示
  - モデル精度検証機能
  - 免責事項の明示

### 5. 📰 ニュースとセンチメント分析
**実装予定**: 6週間以内
- **モジュール**: `src/sentiment/news_analyzer.py`
- **機能**:
  - リアルタイムニュース取得
  - センチメントスコア計算
  - ニュースと価格変動の相関分析
  - タイムライン表示

### 6. 📄 データエクスポートの多様化
**実装予定**: 3週間以内
- **モジュール**: `src/export/export_manager.py`
- **機能**:
  - PDF/Excel/CSV エクスポート
  - カスタマイズ可能なレポート
  - クラウドストレージ連携
  - レポートテンプレート

## 🎓 Phase 3: 教育・長期機能（2-6ヶ月以内）

### 7. 📚 教育コンテンツとチュートリアル
**実装予定**: 2ヶ月以内
- **モジュール**: `src/education/tutorial_manager.py`
- **機能**:
  - インタラクティブチュートリアル
  - 投資指標の解説
  - 模擬データでの学習機能
  - 外部リソースリンク

### 8. 📱 モバイル対応・PWA化
**実装予定**: 4ヶ月以内
- **技術**: Streamlit + PWA
- **機能**:
  - レスポンシブデザイン強化
  - オフライン機能
  - プッシュ通知
  - モバイル最適化UI

### 9. 🔊 音声インターフェース
**実装予定**: 6ヶ月以内
- **モジュール**: `src/voice/voice_interface.py`
- **機能**:
  - 音声コマンド対応
  - 音声による株価照会
  - 音声アラート
  - アクセシビリティ向上

## ⚡ 即座に実装可能な改善

### リアルタイム監視の柔軟性向上
- **実装時間**: 1日
- **機能**: ユーザーによる監視銘柄カスタマイズ
- **ファイル**: `src/data/real_time_updater.py` 拡張

### 監視設定UI追加
```python
# ユーザー監視設定の例
def custom_watchlist_ui():
    st.markdown("### 📊 カスタム監視設定")
    
    # 監視銘柄の追加・削除
    with st.expander("監視銘柄管理"):
        new_symbol = st.text_input("追加する銘柄コード", placeholder="7203")
        if st.button("追加"):
            add_to_watchlist(new_symbol)
        
        # 現在の監視銘柄表示
        current_symbols = get_watchlist()
        for symbol in current_symbols:
            col1, col2 = st.columns([3, 1])
            with col1:
                st.text(f"{symbol} - {get_company_name(symbol)}")
            with col2:
                if st.button("削除", key=f"del_{symbol}"):
                    remove_from_watchlist(symbol)
    
    # 更新間隔設定
    update_interval = st.selectbox(
        "更新間隔",
        [10, 30, 60, 300],  # 秒
        index=1,
        format_func=lambda x: f"{x}秒"
    )
    
    return update_interval
```

## 📊 実装優先度マトリックス

| 機能 | 実装難易度 | ユーザー価値 | 緊急度 | 優先度 |
|------|-----------|-------------|--------|--------|
| カスタムアラート | 低 | 高 | 高 | 🟢 最高 |
| ポートフォリオ管理 | 中 | 高 | 中 | 🟡 高 |
| FA対象拡大 | 低 | 中 | 高 | 🟡 高 |
| ML予測 | 高 | 中 | 低 | 🟠 中 |
| モバイル対応 | 高 | 高 | 低 | 🟠 中 |
| 音声IF | 高 | 低 | 低 | 🔴 低 |

## 🎯 次のアクション

### 今週の実装目標
1. **カスタムアラート機能** - 基本実装
2. **監視銘柄カスタマイズ** - UI追加
3. **ファンダメンタル分析拡張** - データ追加

### 今月の実装目標
1. **ポートフォリオ管理** - フル機能実装
2. **エクスポート機能** - PDF/Excel対応
3. **教育コンテンツ** - 基本チュートリアル

### 技術的考慮事項

#### パフォーマンス最適化
- チャート描画の軽量化
- データキャッシュの効率化
- 非同期処理の拡張

#### スケーラビリティ
- データベース設計の最適化
- API制限の管理
- リソース使用量の監視

#### セキュリティ
- ユーザーデータの暗号化
- API認証の強化
- 不正アクセス防止

## 🔗 関連ドキュメント

- [IMPROVED_SYSTEM_GUIDE.md](IMPROVED_SYSTEM_GUIDE.md) - 既存改善機能ガイド
- [system_architecture.md](system_architecture.md) - システムアーキテクチャ
- [NEW_FEATURES_GUIDE.md](NEW_FEATURES_GUIDE.md) - 新機能利用ガイド

---

**更新日**: 2024年12月19日  
**次回レビュー**: 2025年1月15日
